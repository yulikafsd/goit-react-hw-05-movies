{"version":3,"file":"static/js/806.132f45d7.chunk.js","mappings":"wTAEaA,EAAOC,EAAAA,GAAAA,GAAH,6GAOJC,EAAOD,EAAAA,GAAAA,GAAH,8MAYJE,EAAWF,EAAAA,GAAAA,EAAH,mGAORG,EAAOH,EAAAA,GAAAA,EAAH,2GAOJI,EAAUJ,EAAAA,GAAAA,EAAH,yF,mBCyBpB,EApDgB,WACd,OAA8BK,EAAAA,EAAAA,YAA9B,eAAOC,EAAP,KAAgBC,EAAhB,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QA0BR,OAxBAE,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAa,IAAIC,gBADT,wCAGd,6FACQC,EADR,UACiBC,EAAAA,IADjB,OAC2BC,EAAAA,GAAAA,SAD3B,OAC6CP,EAD7C,4BACwEQ,EAAAA,IADxE,kBAI2BC,EAAAA,EAAAA,IAAUJ,EAAK,CAAEK,OAAQP,EAAWO,SAJ/D,OAIUC,EAJV,OAKIZ,GAAW,OAAIY,EAASC,KAAKC,UALjC,gDAOIC,QAAQC,IAAR,MACsB,aAAlB,KAAMC,UACRC,EAAAA,EAAAA,MATN,0DAHc,sBAmBd,OAnBc,mCAiBdC,GAEO,WACLf,EAAWgB,OACZ,CACF,GAAE,CAACnB,KAGF,iCACIF,IAAW,SAACsB,EAAA,EAAD,IACZtB,IAAYA,EAAQuB,OAAS,IAC5B,SAACzB,EAAD,4DAEDE,GAAWA,EAAQuB,OAAS,IAC3B,SAAC9B,EAAD,UACGO,EAAQwB,KAAI,YAA0C,IAAvCC,EAAsC,EAAtCA,GAAIC,EAAkC,EAAlCA,OAAQC,EAA0B,EAA1BA,QAASC,EAAiB,EAAjBA,WAC7BC,EAAY,IAAIC,KAAKF,GAAYG,iBACvC,OACE,UAACpC,EAAD,YACE,SAACC,EAAD,UAAW8B,KACX,SAAC7B,EAAD,UAAOgC,KACP,SAAChC,EAAD,UAAO8B,MAHEF,EAMd,QAKV,C","sources":["components/Reviews/Reviews.styled.js","components/Reviews/Reviews.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const List = styled.ul`\n  display: block;\n  list-style: none;\n  margin-top: 16px;\n  padding-right: 32px;\n`;\n\nexport const Item = styled.li`\n  padding: 16px;\n  margin: 0;\n  color: #333333;\n  border-radius: 10px;\n  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;\n\n  &:not(:last-of-type) {\n    margin-bottom: 32px;\n  }\n`;\n\nexport const Subtitle = styled.p`\n  margin: 0;\n  font-weight: bold;\n  font-size: 18px;\n  color: #ff6d00;\n`;\n\nexport const Text = styled.p`\n  margin-top: 0;\n  font-weight: normal;\n  font-size: 16px;\n  line-height: 1.2;\n`;\n\nexport const Message = styled.p`\n  text-align: center;\n  font-style: italic;\n  color: #ff6d00;\n`;\n","import axios from 'axios';\nimport { Loader } from 'components/Loader/Loader';\nimport { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { API_END, API_URL, API_KEY } from 'service/ApiService';\nimport { List, Item, Subtitle, Text, Message } from './Reviews.styled';\nimport { notifyError } from 'service/Notifications';\n\nconst Reviews = () => {\n  const [reviews, setReviews] = useState();\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    const controller = new AbortController();\n\n    async function fetchReviewsById() {\n      const url = `${API_URL}${API_END.details}${movieId}/reviews?api_key=${API_KEY}`;\n\n      try {\n        const response = await axios.get(url, { signal: controller.signal });\n        setReviews([...response.data.results]);\n      } catch (error) {\n        console.log(error);\n        if (error.message !== 'canceled') {\n          notifyError();\n        }\n      }\n    }\n\n    fetchReviewsById();\n\n    return () => {\n      controller.abort();\n    };\n  }, [movieId]);\n\n  return (\n    <>\n      {!reviews && <Loader />}\n      {reviews && !reviews.length > 0 && (\n        <Message>Sorry, there are no reviews for this movie...</Message>\n      )}\n      {reviews && reviews.length > 0 && (\n        <List>\n          {reviews.map(({ id, author, content, created_at }) => {\n            const localDate = new Date(created_at).toLocaleString();\n            return (\n              <Item key={id}>\n                <Subtitle>{author}</Subtitle>\n                <Text>{localDate}</Text>\n                <Text>{content}</Text>\n              </Item>\n            );\n          })}\n        </List>\n      )}\n    </>\n  );\n};\n\nexport default Reviews;\n"],"names":["List","styled","Item","Subtitle","Text","Message","useState","reviews","setReviews","movieId","useParams","useEffect","controller","AbortController","url","API_URL","API_END","API_KEY","axios","signal","response","data","results","console","log","message","notifyError","fetchReviewsById","abort","Loader","length","map","id","author","content","created_at","localDate","Date","toLocaleString"],"sourceRoot":""}